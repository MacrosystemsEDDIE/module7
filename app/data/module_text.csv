ecoforecast,check
module7,"In this module, we will address the following question: How can we use data to improve a forecast of lake algal biomass? We will address this question by building an ecological model to predict chlorophyll-a, generating ecological forecasts, and using data science approaches to integrate the most recently collected data into a forecast, a process known as data assimilation. We will explore how assimilating different types of data (e.g., chlorophyll-a, nutrient concentrations, water temperature) at different frequencies (e.g., daily, weekly) affects forecast output. Finally, we will design an environmental monitoring program to inform ecological forecasts that are used by water resource managers."
goal,"We will address this question by building an ecological model to predict chlorophyll-a, generating ecological forecasts, and using data science approaches to integrate the most recently collected data into a forecast, a process known as data assimilation. We will explore how assimilating different types of data (e.g., chlorophyll-a, nutrient concentrations, water temperature) at different frequencies (e.g., daily, weekly) affects forecast output. Finally, we will design an environmental monitoring program to inform ecological forecasts that are used by water resource managers."
EDDIE,"Project EDDIE (Environmental Data-Driven Inquiry and Exploration) is a suite of education projects composed of STEM disciplinary and educational researchers. We develop flexible classroom teaching modules using large, publicly available datasets to engage students in STEM and improve their quantitative reasoning. Teaching modules span topics such as ecology, limnology, geology, hydrology, and environmental sciences. EDDIE also helps build the associated professional development needed to ensure effective use of the teaching modules."
Macro,"Macrosystems ecology is the study of ecological dynamics at multiple interacting spatial and temporal scales. Our interdisciplinary team is developing flexible classroom modules that introduce undergraduate students to the core concepts of macrosystems ecology and ecological forecasting, supported by the NSF Macrosystems Biology program grant 1926050."
act_A,Build different models to simulate water temperature for their chosen NEON site.
act_B,Generate multiple forecasts while assimilating data at different temporal frequencies and with different amounts of observation uncertainty.
act_B_overview,Generate multiple forecasts while assimilating data at different temporal frequencies and with different amounts of observation uncertainty.
act_B_summ,"Inform your instructor that you have completed Activity B. If you have time, think of some answers for the discussion questions below."
act_C,Explore the effect of assimilating sensors with different levels of observation error on forecast accuracy and make management decisions using an ecological forecast.
what_forecast,A forecast is a prediction of future conditions with uncertainty.
why_forecast,We forecast because it help us to make decisions and the information is used to plan for the future.
how_forecast,This module will guide you through the key steps within the forecast cycle and explain how we create ecological forecasts.
eco_forecast1,An ecological forecast is a prediction of future environmental conditions with uncertainty.
eco_forecast2,"An ecological forecast predicts changes in ecosystems in response to environmental drivers such as weather conditions, pollution, or habitat change. It also provides information about how people, economies, and communities may be affected. Local authorities and members of the public use these early warnings to make decisions to protect the health and well-being of a particular area."
LO1,Define data assimilation (Activity A)
LO2,Generate an ecological forecast for primary productivity (Activity A)
LO3,Describe how to assess ecological forecast accuracy (Activity B)
LO4,Describe how data assimilation affects forecast accuracy and uncertainty (Activity B)
LO5,"Explain how updating models with data collected at different time scales (e.g., daily, weekly) and with different levels of associated uncertainty affects ecological forecasts (Activity B, C)"
workflow1,"After the instructor completes the PowerPoint presentation, students will launch the Shiny app. Students work in pairs to navigate through the upper tabs (e.g., ""Introduction"", ""Site Selection"", ""Activity A"", ""Activity B"", and ""Activity C"")  to complete each of the objectives embedded within each tab. Within each activity tab, there are individual objectives which must be completed before moving onto the next one (e.g., within Activity A, Objective 1 is ""Select and view site"")."
workflow2,There are questions in green text boxes embedded throughout the Shiny app which students can  input answers into.
workflow3,"When all of the objectives are completed and questions are answered, navigate to the ""Generate Report"" section in the ""Introduction"" tab. This will then create a Microsoft Word document with all of the forecasts and answers embedded within, which can be downloaded and finalized before submitting to the instructor."
workflow4,"You can save your progress by downloading the user input before you leave the page (see ""Save your progress"" on this webpage for instructions on how to do this). This will allow you to return to this Shiny app and start from where you left off."
obj_01,"Select a NEON site from the table, then click on the ""View latest photo"" button to load the latest image from that site. Follow the link at the bottom of the 'About Site' section to find out more about the site."
obj_02,Explore the data measured at the selected site. This is data that has been downloaded from the NEON Data Portal. The variables shown have been selected for this module but there are a wide range of variables collected at each NEON site.
obj_03,We will use chlorophyll-a sensor data to estimate primary productivity. Chlorophyll-a concentrations are an indicator of phytoplankton abundance and biomass. Explore the options below to see if there are any relationships between chlorophyll-a and the other variables measured at your site. This information will be used to build your model.
obj_04,"Using your understanding of aquatic ecosystems, you will build a simple ecological model to predict primary productivity."
obj_05,"In ecological models, a driver variable is an input that is needed for a model to make predictions of a state variable. In the simplified aquatic food web model we are using today, water temperature and underwater light are the driver variables, and nitrogen and chlorophyll-a are the state variables. We are going to generate forecasts of chlorophyll-a as a proxy for aquatic primary productivity."
obj_06,Use the weather forecast data which has been converted into driving variables (surface water temperature and underwater PAR) to drive the simplified aquatic food web model to forecast primary productivity.
obj_07,"Congratulations! You have completed your first ecological forecast! Now, we are going to confront your forecast with data. Using a process known as 'data assimilation', we will repeat the forecast process while periodically updating our model initial condition (chlorophyll-a) with new observations when they are available."
obj_08,"We learned in Objective 7 that we can use observations to inform forecasts and potentially improve forecast accuracy. However, observations themselves are uncertain. Some sensors and ways of collecting data are more precise and accurate than others. Listed below are some different methods for collecting the ecological data that we need for our ecological model, with a brief description of the observation uncertainty associated with each method."
obj_09,"Some types of data can be collected and processed more often or more quickly than others. For example, a thermistor might collect a reading every minute and wirelessly stream data directly to a computer every day, while manual water samples may be collected only once a week and take several more weeks to process and analyze. Additional delays may arise due to inclement weather that prevents sample collection by humans, instrument malfunction, or the need to perform quality checks before data are approved for use in a forecast model."
obj_10,"Now that you have explored the effect of observation uncertainty and data collection frequency on data assimilation, you will apply your knowledge to a lake management scenario. Please read the two scenarios below and select which one you would like to use for this activity."
weather_forecast1,A weather forecast is probably the most widely used and applied forecast. Here we will examine the output from a weather forecast model from NOAA.
weather_forecast2,"Weather forecasts use multiple simulations from the same model, but alters the initial conditions of the model to generate different potential futures."
model1,"A model is a representation (physical, conceptual or mathematical) of a real ecological phenomenon that is difficult to observe directly (e.g., the abundance of foxes in a forest)."
model2,"Models can be as simple as a verbal statement about a subject or two boxes connected by an arrow to represent some relationship such as, ""warmer air temperature causes warmer lake surface temperature"" or ""a higher number of wolves leads to a lower population of deer""."
model3,"Alternatively, models can be extremely complex and detailed, such as a mathematical description of the pathways of nitrogen transformations within ecosystems."
mod_desc,The model we will be using in this module is the nutrient-phytoplankton (NP) model. The nutrient-phytoplankton (NP) model is a common tool in freshwater and marine research. The NP model represents the simplest sets of processes needed to model plankton dynamics.
phyto_chla,"Phytoplankton are primary producers. They take up nitrogen and other nutrients to photosynthesize (i.e., use sunlight to make food from carbon dioxide and water). Chlorophyll-a is used as a proxy (i.e. indirect measurement) of the phytoplankton concentration in water. We will use chlorophyll-a  sensor measurements from the lake and assume the concentration of chlorophyll-a is equal to the concentration of phytoplankton for the purposes of this module."
ens_mod1,Ensemble modelling is using multiple simulations to predict an outcome and to reduce the error of the prediction.
uncertainty,Uncertainty emerges from some kind of error or imperfection in our knowledge and understanding of the ecological system being investigated.
uncert1,"Uncertainty comes from natural variability in the environment and imperfect knowledge of an ecological system. When generating a forecast, uncertainty can come from the structure of the model used, the conditions the model is initialized with, and the data used to drive the model, among other sources."
uncert2,"Uncertainty comes from natural variation and imperfect knowledge. For example, taking replicate samples is one way to estimate uncertainty in observations  whereas imperfect knowledge is reflected in our models, such as the NP model. This model, like many other ecological models, makes assumptions that we know are simplistic representations of reality. One such assumption is that phytoplankton nutrient uptake occurs at a constant parameter rate. It is known that many different species of phytoplankton take up nitrogen at different rates but to reduce model complexity one rate is assumed for all phytoplankton. In addition to process (model) uncertainty, observational uncertainty, and parameter uncertainty, other sources of uncertainty are drivers and initial conditions."
why_important,Knowing the uncertainty in a forecast allows forecast users to make informed decisions based on the potential future scenarios and prepare accordingly.
mod_selec_uc,Model selection uncertainty is due to not knowing which model best represents the variable you are predicting. It is often unaccounted for when only one model is used.
obs_uc,comes from knowng that even our observations are imperfect and have uncertainty.
driver_uncert,Driver uncertainty comes from inaccuracies in the forecasted variables used to drive the model.
proc_uc,Process uncertainty is uncertainty caused by our inability to model all processes as observed in the real world.
param_uncert,"Parameter uncertainty refers to the uncertainty in the model parameter values, which can be due to uncertainties in the data or the calibration process used."
init_uncert,"Initial conditions uncertainty refers to uncertainty arising because the initial, or starting, conditions for the model are not precisely known or because the calculations cannot be performed with the precise initial conditions."
state_var,"State variables are those that give a snapshot of the system's properties at any single point in time. The phytoplankton biomass and nutrient concentration of an ecological model are examples of this. You can measure them, and you don't need any information about precisely how the system arrived in its current state."
parameter,A parameter is a value in a model that  describes the rate of change in those states.
fc_cycle_end,"We have now stepped through each of the steps in the forecast cycle. As you can see, forecasting is an iterative process. We constantly will need to generate forecasts of the future as time moves forward. When we combine our forecasts with data, we can use this data to update our model, which will then improve our model the more forecasts we make. This is one of the key advantages of ecological forecasting."
privacy_policy,This Shiny App does not collect or store any of your data.
acknowledgement,"This module was initially developed by: Lofton, M.E., T.N. Moore, C.C. Carey, and R.Q. Thomas. 13 May 2022. Macrosystems EDDIE: Using Data to Improve Ecological Forecasts. Macrosystems EDDIE Module 7, Version 7. http://module7.macrosystemseddie.org. Module development was supported by NSF grants DEB-1926050 and DBI-1933016."
distribution,"A parameter distribution shows the possible values for a parameter value and how often they occur. For example, a normal distribution of a parameter has a bell-shaped curve, and the median is the most likely value of that parameter."
r_squared," is a goodness-of-fit measure for linear regression models. This statistic indicates the amount of variation in the dependent variable that the independent variable was able to correctly  explain. R-squared measures the strength of the relationship between your model and the dependent variable on a convenient 0 to 1 scale, where 0 means that no variation in the independent variable is explained by the dependent variable, and 1 means that all variation in the independent variable is explained by the dependent variable."
std_error,The standard error of the coefficient measures how precisely the model estimates the coefficient's unknown value. It is the standard deviation around the estimate of the parameter and can be visualized by drawing a normal distribution with the mean as the parameter estimate and the standard error as the standard deviation.
density_plots,Density plots are used to observe the distribution of a variable in a dataset.
linear_relationship,"A linear relationship is a statistical term used to describe a straight-line relationship between two variables. Linear relationships can be expressed either in a graphical format where the variable and the constant are connected via a straight line or in a mathematical format where the independent variable is multiplied by the slope coefficient, added by a constant, which determines the dependent variable. "
mod_error,Model error is the difference between an observation and the estimate value from the model.
actB_q1,Q. Which source of uncertainty do you think contributes the most to total forecast uncertainty for a forecast of water temperature?
actB_q2,"Q. You have been given $5,000 to improve your water temperature forecasts, what would you spend it on to reduce your forecast uncertainty?"
actB_q3,Q. Do you think that different lake sites would have the same or different quantities of uncertainty? Why?
scenario1,"Green Reservoir, one of several drinking water supply reservoirs for a city of about 100,000 people, suffers from algal blooms which sometimes release toxins that could threaten the health of water consumers. Managers are interested in having forecasts of chl-a so they can plan to source water from other reservoirs and/or pre-emptively issue drinking water warnings."
scenario2,"Brown Reservoir, a reservoir in a heavily agricultural county in the Midwest in the Upper Mississippi watershed, has been exceeding its regulatory limit for nitrate loading downstream. Brown Reservoir has outtakes installed at two different depths in the water column (1 m and 5 m) from which water can be released. Managers are interested in forecasts of nitrate concentrations at different depths so they can plan to release water from the outtake valve with the lowest concentration and minimize downstream loading. "
phenocam,A 'phenocam' is a digital camera capturing time-lapse images of foliage and lake sites. It can be used to generate quantitative measures of plant phenology.
rmse,(RMSE) is a metric used to assess how well a regression model fits a dataset. It tells us the average distance between the predicted values from the model and the actual values in the dataset.
uc_quant1,Uncertainty quantification is the science of quantitative characterization and reduction of uncertainties in both computational and real world applications. It tries to determine how likely certain outcomes are if some aspects of the system are not exactly known.
tps1,"With your partner, each of you select two  of the four models (make sure you select different models) and explore how uncertainty differs between the models. Complete the activities below by yourself and then discuss with your partner to answer Q. 27."
mgmt_scen1,For this activity you are a Water Resource Manager for the local hydroelectric dam which provides water to agricultural users downstream and energy to the local town.
mgmt_scen2,"During the summer, water temperatures at the surface increase, while temperatures at the bottom increase much slower creating a difference in temperature between the surface and the bottom."
mgmt_scen3,This reservoir can release water either from near to the surface of the dam or from the bottom of the dam.
mgmt_scen4,Fish downstream of the dam are influenced by stream water temperature.
mgmt_scen5,You will make decisions about where the water should be withdrawn for the next 7-days to optimize survival rates for Chinook salmon based on water temperature forecasts for surface and bottom temperatures within the reservoir.
data_assimilation,"Data assimilation is the process of fusing models and data. In ecological forecasting, data assimilation is the process of updating ecological forecasting models with new environmental data as they become available."
da_uncertainty,"The amount of uncertainty in model predictions and data determines how much we adjust our forecasts based on new observations. If we observe a new data point and we have low observation uncertainty, our forecast starting conditions will be adjusted to closely correspond to the new observation. If we observe a new data point and we have high observation uncertainty, our forecast starting conditions will not be adjusted as much."
da_freq,"More frequent observations allow us to update our forecast models more often, potentially improving forecast accuracy."
student_activities,"Within the Introduction, Site Selection, and Activities A, B and C tabs, there are questions for students to complete as part of this module. These can be completed by writing your answers into the text boxes within the green boxes. If you do not complete the module in one continuous sitting, you can download a file with your responses saved, which you can then upload when you return. When you finish the module, you can generate a report which will embed your answers and saved plots into a Word (.docx) file which you can download and make further edits to before submitting to your instructor."
save_progress,If you run out of time to finish all the activities you can save your progress and return to it at a later date. Click the 'Download user input' button at the bottom of the page and a file 'module7_answers_ID_number.eddie' will download. Store this file in a safe place locally on your computer.
generate_report,This will take the answers you have input into this app and generate a Microsoft Word document (.docx) document with your answers which you can download and make further edits before submitting. Return here when you have completed the module.
this_module,"In this module, we will address the following question: How can we use data to improve a forecast of lake algal biomass?"
enkf_filter1,"Data assimilation can be done using a variety of methods. Today, we'll be using an approach called the ensemble Kalman filter""."""
enkf_filter2,"The ensemble Kalman filter is a variation of the Kalman filter, which mathematically integrates model output with recent observations to provide future predictions. "
enkf_filter3,Please use the image to the right from the in-class presentation to review how an ensemble Kalman filter operates.
obj7_no_assim,"We will use chlorophyll-a observations to inform our initial conditions at the start of the 35-day forecast period, but will not assimilate any other chlorophyll-a  observations during the forecast period."
obj7_chla_assim,We will use chlorophyll-a observations to inform our initial conditions at the start of the 35-day forecast period and then will assimilate a weekly chl-a observation during our forecast period.
obj7_nitrate_assim,We will use chlorophyll-a and nitrate observations to inform our initial conditions at the start of the 35-day forecast and then will assimilate a weekly nitrate observation during our forecast period.
obj7_chla_nitrate_assim,We will use chlorophyll-a and nitrate observations to inform our initial conditions at the start of the 35-day forecast and then will assimilate both a weekly chl-a observation and a weekly nitrate observation during our forecast period.
data_frequency,is the amount of time that passes between measurements.
data_latency,is the time between when a measurement is made and when it is available for assimilation into forecasts.
sensor,"a device that responds to a physical stimulus (such as heat, light, sound, pressure, magnetism, or a particular motion) and transmits a resulting impulse (as for measurement or operating a control). For example, an electronic thermometer responds to human heat and transmits an electrical signal which corresponds to a know temperature which is displayed."
reservoir_monitoring_program,"Reservoir managers have asked you to design a monitoring program that will provide the most accurate forecasts possible for your target variable (either chl-a or nitrate, depending on which scenario you selected). However, you have a limited budget with which to work. Use the estimated costs of each monitoring activity below to design a monitoring program that is optimized for your forecast target variable. Consider what you learned in Activity B about the effect of observation uncertainty and data collection frequency on data assimilation and forecast accuracy to guide your choices."
linear_regression,"Linear regression models the relationship between two variables by fitting a linear equation to observed data. One variable (x) is a predictor variable, and the other is a response variable (y). For example, we will model surface water temperature (the response variable) using air temperature as a predictor variable."
mod_v_obs_plot,"these x-y plots show observations on the x-axis and predictions (in our case, the mean of our ensemble forecast of chlorophyll-a) on the y-axis. A perfect forecast would result in the majority of points in a predicted vs. observed plot falling on the diagonal 1:1 line. This diagonal line indicates where our points would fall if all predictions perfectly matched observations. We rarely see this in practice!"
fc_accur,Forecasts are assessed for accuracy by examining how much the forecast differs from what is actually observed in the ecosystem when the forecasted time arrives. There are many ways to assess forecast accuracy. Today we will be using two methods:
rmse2,"this assessment metric calculates how far away predictions tend to fall from observations. Specifically, RMSE is the standard deviation of the residuals. The units of RMSE are the same as the units of the forecast variable. So for example, an RMSE of 2 ug/L means that our forecasts tend to fall about 2 ug/L away from the observed chl-a. Lower RMSE values indicate more accurate forecasts. The formula for RMSE is:"
